# ✏️ 提示工程技术

## 🌟 提示工程概述

- 📝 **定义**：设计、优化和构建输入提示的技术，以便从大语言模型中获得最佳、最准确的输出
- 🎯 **目标**：有效沟通意图，并引导模型生成期望的回答或执行特定任务
- 🧠 **核心思想**：将模型视为一个强大但需要明确指导的推理引擎

## 🧩 基础提示技术

### 📋 提示结构设计

- 🧿 **零样本提示 (Zero-shot Prompting)**
  - 📝 **定义**：直接要求模型执行任务，不提供任何示例
  - 🔍 **示例**：`翻译以下文本为英文: "人工智能正在改变世界"`
  - 💡 **适用场景**：简单明确的任务，模型具备基本能力的领域

- 🎭 **少样本提示 (Few-shot Prompting)**
  - 📝 **定义**：在提示中提供几个示例，展示期望的输入-输出模式
  - 🔍 **示例**：
    ```
    法语: "Bonjour", 英语: "Hello"
    法语: "Au revoir", 英语: "Goodbye"
    法语: "Merci beaucoup", 英语: ?
    ```
  - 💡 **适用场景**：需要特定格式或风格的任务

- 🎬 **角色扮演提示 (Role Prompting)**
  - 📝 **定义**：指导模型扮演特定角色或专家身份
  - 🔍 **示例**：`你是一位经验丰富的数据科学家，请解释随机森林算法的工作原理...`
  - 💡 **适用场景**：需要专业知识或特定视角的解答

### 🛠️ 提示优化技术

- 🔍 **指令明确化**
  - ✅ **良好示例**：`分析以下文本中的情感，判断为积极、消极或中性，并解释理由`
  - ❌ **不良示例**：`这段话什么情感？`

- 📏 **步骤分解**
  - 📝 **方法**：将复杂任务分解为逐步执行的小任务
  - 🔍 **示例**：
    ```
    请按照以下步骤分析这篇文章:
    1. 概括文章的主要论点
    2. 分析支持论点的关键证据
    3. 评估论证逻辑的强弱
    4. 提出可能的反驳观点
    ```

- 🎯 **格式控制**
  - 📝 **方法**：明确指定输出的格式、长度或结构
  - 🔍 **示例**：`请以JSON格式返回结果，包含以下字段: "标题", "摘要", "关键点"(数组)`

## 📊 高级提示技术

### 🔀 思维链提示 (Chain-of-Thought, CoT)

- 📝 **定义**：引导模型展示解决问题的中间推理步骤
- 🧮 **示例**：
  ```
  问题: 小明有5个苹果，他给了小红2个，又从小华那里得到3个，现在他有多少个苹果？
  
  思考过程:
  小明开始有5个苹果
  他给了小红2个，所以剩下5-2=3个
  从小华那里得到3个，所以现在有3+3=6个苹果
  因此，小明现在有6个苹果。
  ```
- 💡 **优势**：
  - 提高复杂推理能力
  - 增强数学和逻辑问题的解决能力
  - 降低模型"幻觉"

### 🧠 自洽性提示 (Self-Consistency)

- 📝 **定义**：生成多个独立的思考路径，然后选择多数结果
- 🔄 **过程**：
  1. 为同一问题生成多个思维链解答
  2. 比较不同路径得出的结论
  3. 选择出现频率最高的答案
- ✅ **优势**：降低随机性，提高准确性

### 🧪 自反提示 (Self-Reflection)

- 📝 **定义**：引导模型对自己的回答进行评估和改进
- 🔍 **示例**：
  ```
  请解决以下问题，然后批判性评估你的解决方案，指出可能的错误，并提供修正后的答案。
  ```
- 💡 **应用**：让模型识别自身的错误，并进行自我纠正

### 🔄 迭代提示优化 (Iterative Prompting)

- 📝 **定义**：通过多轮交互逐步细化和改进结果
- 🔄 **流程**：
  1. 从初始提示获得响应
  2. 评估响应并提供反馈
  3. 修改提示或要求模型基于反馈改进
  4. 重复直到达到满意结果
- 🎯 **适用场景**：需要高质量输出的创意写作、代码开发等

## 🎭 任务特定提示技术

### 💻 代码生成提示

- 🧩 **规范说明**：详细描述功能要求、输入输出、边界条件
- 🔍 **示例**：
  ```
  请编写一个Python函数，用于查找数组中的最大值和次大值。
  函数名: find_top_two
  输入: 一个数值列表
  输出: 包含最大值和次大值的元组
  要求: 时间复杂度不超过O(n)，处理输入列表为空或只有一个元素的情况
  ```
- 💡 **技巧**：
  - 指定编程语言和库版本
  - 要求添加注释
  - 请求测试用例

### 📝 创意写作提示

- 🌈 **详细背景**：提供场景、人物、主题等关键元素
- ⏱️ **结构指导**：指定格式、长度、风格
- 🔍 **示例**：
  ```
  请以第一人称视角，写一个500字左右的短篇故事。
  背景: 一个雨夜，主角在一家古老的书店避雨
  主题: 意外的发现
  风格: 悬疑
  语言: 使用细腻的环境描写和内心独白
  ```

### 📊 数据分析提示

- 📈 **分析框架**：指定分析方法和步骤
- 📋 **输出格式**：要求特定的图表或数据表示
- 🔍 **示例**：
  ```
  分析以下销售数据，包括:
  1. 计算基本统计量（均值、中位数、标准差）
  2. 识别销售趋势和季节性模式
  3. 找出表现最好和最差的产品
  4. 使用图表可视化关键发现
  5. 提供基于数据的业务建议
  ```

## 🛠️ 提示工程工具和框架

- 🧰 **LangChain**：构建基于LLM的应用程序框架，支持提示模板和链式调用
- 📝 **Prompttools**：提示管理和优化工具
- 🧪 **OpenAI Playground**：交互式提示设计环境
- 📚 **PromptBase**：提示市场和分享平台

## 🔍 提示工程最佳实践

- 📋 **提示模板化**：创建并复用已验证有效的提示模板
- 🧪 **A/B测试**：比较不同提示版本的效果
- 📏 **提示长度控制**：平衡详细程度与简洁性
- 🛡️ **安全措施**：
  - 防止提示注入
  - 限制有害输出
  - 避免敏感信息泄露

## 💡 提示工程的局限与挑战

- 📊 **模型依赖性**：同一提示在不同模型上效果差异大
- 🌐 **语言和文化差异**：跨语言提示效果不一致
- 📉 **长文本处理**：超长提示可能被截断或忽略重要内容
- 🧠 **抽象任务**：创造性或高度抽象的任务难以通过提示精确控制

## 🔮 提示工程的未来趋势

- 🤖 **自动化提示优化**：算法自动生成和优化提示
- 🎚️ **提示蒸馏**：将复杂提示简化为更高效形式
- 🌉 **多模态提示工程**：跨文本、图像、音频的统一提示策略
- 🧩 **可组合提示**：模块化提示组件，支持复杂应用构建

## 🔗 相关资源

- 📚 **学习资源**：
  - [OpenAI Cookbook](https://github.com/openai/openai-cookbook)
  - [Prompt Engineering Guide](https://www.promptingguide.ai/)
- 🧪 **实验平台**：
  - [Hugging Face 提示共享页面](https://huggingface.co/spaces/merve/ChatGPT-prompt-generator)
  - [PromptPerfect](https://promptperfect.jina.ai/)
- 📊 **实例库**：
  - [Awesome ChatGPT Prompts](https://github.com/f/awesome-chatgpt-prompts)
  - [GPT-3 Creative Fiction](https://www.gwern.net/GPT-3) 